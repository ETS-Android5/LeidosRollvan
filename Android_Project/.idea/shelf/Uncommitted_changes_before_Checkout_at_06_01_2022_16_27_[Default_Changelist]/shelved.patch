Index: app/src/main/java/com/example/leidosrollvan/BusinessLoginActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.leidosrollvan;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\n\r\nimport br.com.simplepass.loading_button_lib.customViews.CircularProgressButton;\r\n\r\npublic class BusinessLoginActivity extends AppCompatActivity implements View.OnClickListener {\r\n    private TextView register;\r\n    private Button goToUserLogin;\r\n    private EditText editBusinessTextEmail, editBusinessTextPassword;\r\n    private CircularProgressButton businessLogin;\r\n\r\n    private ProgressBar progressBar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //for changing status bar icon colors\r\n        if(Build.VERSION.SDK_INT>= Build.VERSION_CODES.M){\r\n            getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR);\r\n        }\r\n        setContentView(R.layout.activity_business_login);\r\n\r\n        register = (TextView) findViewById(R.id.businessRegister);\r\n        register.setOnClickListener(this);\r\n\r\n        goToUserLogin = (Button) findViewById(R.id.gotoUserLogin);\r\n        goToUserLogin.setOnClickListener(this);\r\n\r\n        businessLogin = (CircularProgressButton) findViewById(R.id.cirBusinessLoginButton);\r\n        businessLogin.setOnClickListener(this);\r\n\r\n        editBusinessTextEmail = (EditText) findViewById(R.id.editBusinessLoginTextEmail);\r\n        editBusinessTextPassword= (EditText) findViewById(R.id.editBusinessLoginTextPassword);\r\n\r\n        progressBar = (ProgressBar) findViewById(R.id.businessLoginProgressBar);\r\n    }\r\n\r\n    public void toBusinessRegisterPage(View view){\r\n        startActivity(new Intent(BusinessLoginActivity.this,  BusinessRegisterActivity.class));\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.stay);\r\n    }\r\n\r\n    public void businessLogin(){\r\n        startActivity(new Intent(this, BusinessHomeActivity.class));\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch(v.getId()){\r\n            case R.id.cirBusinessLoginButton:\r\n                businessLogin();\r\n                break;\r\n            case R.id.gotoUserLogin:\r\n                startActivity(new Intent(this, LoginActivity.class));\r\n                break;\r\n            case R.id.businessRegister:\r\n                startActivity(new Intent(this, BusinessRegisterActivity.class));\r\n        }\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/leidosrollvan/BusinessLoginActivity.java b/app/src/main/java/com/example/leidosrollvan/BusinessLoginActivity.java
--- a/app/src/main/java/com/example/leidosrollvan/BusinessLoginActivity.java	(revision fe05da236cfb6ad7a22ac8a4e2b1a8749c900a4e)
+++ b/app/src/main/java/com/example/leidosrollvan/BusinessLoginActivity.java	(date 1641486444133)
@@ -1,15 +1,23 @@
 package com.example.leidosrollvan;
 
+import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
 
 import android.content.Intent;
 import android.os.Build;
 import android.os.Bundle;
+import android.util.Patterns;
 import android.view.View;
 import android.widget.Button;
 import android.widget.EditText;
 import android.widget.ProgressBar;
 import android.widget.TextView;
+import android.widget.Toast;
+
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.Task;
+import com.google.firebase.auth.AuthResult;
+import com.google.firebase.auth.FirebaseAuth;
 
 import br.com.simplepass.loading_button_lib.customViews.CircularProgressButton;
 
@@ -18,7 +26,7 @@
     private Button goToUserLogin;
     private EditText editBusinessTextEmail, editBusinessTextPassword;
     private CircularProgressButton businessLogin;
-
+    private FirebaseAuth mAuth;
     private ProgressBar progressBar;
 
     @Override
@@ -43,6 +51,8 @@
         editBusinessTextPassword= (EditText) findViewById(R.id.editBusinessLoginTextPassword);
 
         progressBar = (ProgressBar) findViewById(R.id.businessLoginProgressBar);
+
+        mAuth = FirebaseAuth.getInstance();
     }
 
     public void toBusinessRegisterPage(View view){
@@ -51,7 +61,48 @@
     }
 
     public void businessLogin(){
-        startActivity(new Intent(this, BusinessHomeActivity.class));
+        //startActivity(new Intent(this, BusinessHomeActivity.class));
+        String businessEmail = editBusinessTextEmail.getText().toString().trim();
+        String businessPassword = editBusinessTextPassword.getText().toString().trim();
+
+        if(businessEmail.isEmpty()){
+            editBusinessTextEmail.setError("Email is Required!");
+            editBusinessTextEmail.requestFocus();
+            return;
+        }
+
+        if(!Patterns.EMAIL_ADDRESS.matcher(businessEmail).matches()){
+            editBusinessTextEmail.setError("Please enter a valid Email!");
+            editBusinessTextEmail.requestFocus();
+            return;
+        }
+
+        if (businessPassword.isEmpty()) {
+            editBusinessTextPassword.setError("Password is required!");
+            editBusinessTextPassword.requestFocus();
+            return;
+        }
+
+        if(businessPassword.length() < 6){
+            editBusinessTextPassword.setError("Minimum password length is 6 characters");
+            editBusinessTextPassword.requestFocus();
+            return;
+        }
+
+        progressBar.setVisibility(View.VISIBLE);
+
+        mAuth.signInWithEmailAndPassword(businessEmail, businessPassword).addOnCompleteListener(new OnCompleteListener<AuthResult>() {
+            @Override
+            public void onComplete(@NonNull Task<AuthResult> task) {
+                if(task.isSuccessful()){
+                    progressBar.setVisibility(View.GONE);
+                    startActivity(new Intent(BusinessLoginActivity.this, MainActivity.class));
+                }else {
+                    Toast.makeText(BusinessLoginActivity.this, "Failed to Login! Please check your credentials!", Toast.LENGTH_LONG).show();
+                    progressBar.setVisibility(View.GONE);
+                }
+            }
+        });
     }
 
     @Override
@@ -65,6 +116,8 @@
                 break;
             case R.id.businessRegister:
                 startActivity(new Intent(this, BusinessRegisterActivity.class));
+
+
         }
 
     }
Index: app/src/main/java/com/example/leidosrollvan/BusinessRegisterActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.leidosrollvan;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Patterns;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\nimport br.com.simplepass.loading_button_lib.customViews.CircularProgressButton;\r\n\r\npublic class BusinessRegisterActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    private TextView existingBusinessAccount;\r\n    private EditText editBusinessTextName, editBusinessTextEmail, editBusinessTextMobile, editBusinessTextPassword;\r\n    private ProgressBar businessProgressBar;\r\n    private CircularProgressButton registerBusiness;\r\n\r\n\r\n    private FirebaseAuth mAuth;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_business_register);\r\n        changeStatusBarColor();\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        existingBusinessAccount = (TextView) findViewById(R.id.existingBusinessAccount);\r\n        existingBusinessAccount.setOnClickListener(this);\r\n\r\n        registerBusiness = (CircularProgressButton) findViewById(R.id.cirBusinessRegisterButton);\r\n        registerBusiness.setOnClickListener(this);\r\n\r\n        editBusinessTextName = (EditText) findViewById(R.id.editBusinessTextName);\r\n        editBusinessTextEmail = (EditText) findViewById(R.id.editBusinessTextEmail);\r\n        editBusinessTextMobile = (EditText) findViewById(R.id.editBusinessTextMobile);\r\n        editBusinessTextPassword = (EditText) findViewById(R.id.editBusinessTextPassword);\r\n\r\n        businessProgressBar = (ProgressBar) findViewById(R.id.businessRegisterProgressBar);\r\n    }\r\n\r\n    private void changeStatusBarColor() {\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n//            window.setStatusBarColor(Color.TRANSPARENT);\r\n            window.setStatusBarColor(getResources().getColor(R.color.register_bk_color));\r\n        }\r\n    }\r\n\r\n    public void toBusinessLoginPage(View view) {\r\n        startActivity(new Intent(this,BusinessLoginActivity.class));\r\n        overridePendingTransition(R.anim.slide_in_left,android.R.anim.slide_out_right);\r\n    }\r\n\r\n    public void registerBusiness(){\r\n        //startActivity(new Intent(this, BusinessHomeActivity.class));\r\n        String businessEmail = editBusinessTextEmail.getText().toString().trim();\r\n        String businessName = editBusinessTextName.getText().toString().trim();\r\n        String businessMobile = editBusinessTextMobile.getText().toString().trim();\r\n        String businessPassword = editBusinessTextPassword.getText().toString().trim();\r\n\r\n        if(businessName.isEmpty()){\r\n            editBusinessTextName.setError(\"Name is Required!\");\r\n            editBusinessTextName.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(businessMobile.isEmpty()){\r\n            editBusinessTextMobile.setError(\"Mobile Number is Required!\");\r\n            editBusinessTextMobile.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(businessEmail.isEmpty()){\r\n            editBusinessTextEmail.setError(\"Email is Required!\");\r\n            editBusinessTextEmail.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(!Patterns.EMAIL_ADDRESS.matcher(businessEmail).matches()){\r\n            editBusinessTextEmail.setError(\"Please provide valid email!\");\r\n            editBusinessTextEmail.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(businessPassword.isEmpty()){\r\n            editBusinessTextPassword.setError(\"Password is Required!\");\r\n            editBusinessTextPassword.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(businessPassword.length() < 6){\r\n            editBusinessTextPassword.setError(\"Minimum password length should be 6 characters\");\r\n            editBusinessTextPassword.requestFocus();\r\n            return;\r\n        }\r\n        businessProgressBar.setVisibility(View.VISIBLE);\r\n        mAuth.createUserWithEmailAndPassword(businessEmail, businessPassword)\r\n                .addOnCompleteListener(new OnCompleteListener<AuthResult>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<AuthResult> task) {\r\n                        if(task.isSuccessful()){\r\n                            User user = new User(businessName, businessMobile, businessEmail);\r\n\r\n                            FirebaseDatabase.getInstance().getReference(\"Users\")\r\n                                    .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                                    .setValue(user).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task<Void> task) {\r\n                                    if(task.isSuccessful()){\r\n                                        Toast.makeText(BusinessRegisterActivity.this, \"Business has been registered successfully\", Toast.LENGTH_LONG).show();\r\n                                        businessProgressBar.setVisibility(View.GONE);\r\n                                        startActivity(new Intent(BusinessRegisterActivity.this, LoginActivity.class));\r\n\r\n                                    }else {\r\n                                        Toast.makeText(BusinessRegisterActivity.this, \"Failed to register Business, try again!\", Toast.LENGTH_LONG).show();\r\n                                        businessProgressBar.setVisibility(View.GONE);\r\n                                    }\r\n                                }\r\n                            });\r\n                        }else {\r\n                            Toast.makeText(BusinessRegisterActivity.this, \"Failed to register business, try again!\", Toast.LENGTH_LONG).show();\r\n                            businessProgressBar.setVisibility(View.GONE);\r\n                        }\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch(v.getId()){\r\n            case R.id.existingBusinessAccount:\r\n                startActivity(new Intent(this, BusinessLoginActivity.class));\r\n                break;\r\n            case R.id.cirBusinessRegisterButton:\r\n                registerBusiness();\r\n                break;\r\n        }\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/leidosrollvan/BusinessRegisterActivity.java b/app/src/main/java/com/example/leidosrollvan/BusinessRegisterActivity.java
--- a/app/src/main/java/com/example/leidosrollvan/BusinessRegisterActivity.java	(revision fe05da236cfb6ad7a22ac8a4e2b1a8749c900a4e)
+++ b/app/src/main/java/com/example/leidosrollvan/BusinessRegisterActivity.java	(date 1641482720083)
@@ -116,11 +116,11 @@
                     @Override
                     public void onComplete(@NonNull Task<AuthResult> task) {
                         if(task.isSuccessful()){
-                            User user = new User(businessName, businessMobile, businessEmail);
+                            Business business = new Business(businessName, businessMobile, businessEmail);
 
-                            FirebaseDatabase.getInstance().getReference("Users")
+                            FirebaseDatabase.getInstance().getReference("Businesses")
                                     .child(FirebaseAuth.getInstance().getCurrentUser().getUid())
-                                    .setValue(user).addOnCompleteListener(new OnCompleteListener<Void>() {
+                                    .setValue(business).addOnCompleteListener(new OnCompleteListener<Void>() {
                                 @Override
                                 public void onComplete(@NonNull Task<Void> task) {
                                     if(task.isSuccessful()){
